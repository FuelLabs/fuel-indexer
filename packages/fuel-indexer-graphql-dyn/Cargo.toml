[package]
name = "fuel-indexer-graphql-dyn"
version = { workspace = true }
authors = { workspace = true }
edition = { workspace = true }
homepage = { workspace = true }
license = { workspace = true }
repository = { workspace = true }
rust-version = { workspace = true }
description = "Library for building executable dynamic GraphQL schemas"

[dependencies]
anyhow = { version = "1.0", default-features = false }
async-graphql = { workspace = true, features = ["dynamic-schema", "dataloader"] }
async-graphql-parser = { workspace = true }
async-graphql-value = { workspace = true }
async-trait = "0.1"
convert_case = "0.6.0"
extension-trait = "1.0.2"
graphql-parser = { version = "0.4.0", optional = true }
indexmap = "2.0.0"
lazy_static = "1.4"
serde = { workspace = true }
serde_json = { workspace = true, optional = true }
thiserror = { workspace = true }
tokio = { workspace = true, features = ["sync"] }

[dev-dependencies]
assert_matches = "1.5.0"
graphql-parser = "0.4.0"
insta = { version = "1.31.0", features = ["json", "ron"] }
serde_json = { workspace = true }
tokio = { workspace = true, features = ["sync", "rt", "macros"] }
velcro = "0.5.4"

[features]
default = ["json", "testing"]
json = ["dep:serde_json"]
testing = ["dep:graphql-parser"]
