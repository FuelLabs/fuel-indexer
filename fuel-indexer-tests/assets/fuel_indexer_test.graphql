schema {
    query: QueryRoot
}

type QueryRoot {
    message: MessageEntity
    pong: PingEntity
    block: BlockEntity
    transaction: TransactionEntity
    transfer: TransferEntity
    log: LogEntity
    logdata: LogDataEntity
}

type PingEntity {
    id: ID!
    value: UInt8!
}

type BlockEntity {
    id: ID!
    height: UInt8!
    producer: Address!
    hash: Bytes32!
    timestamp: Int8!
}


type TransactionEntity {
    id: ID!
    hash: Bytes32!
    block: BlockEntity!
    input_data: Jsonb!
    timestamp: Int8!
}

type TransferEntity {
    id: ID!
    contract_id: ContractId!
    # 'to' is a reserved SQL word
    recipient: ContractId!
    amount: UInt8!
    asset_id: AssetId!
}


type LogEntity {
    id: ID!
    contract_id: ContractId!
    ra: UInt8!
    rb: UInt8!
}

# TODO: LogData is a bit different in that we don't save the actual LogData but the 
# struct inside of the LogData payload
type LogDataEntity {
    id: ID!
    contract_id: ContractId! 
}
